!function(t){var n;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):(n=(n=(n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).d3||(n.d3={})).layout||(n.layout={})).cloud=t()}(function(){return function r(o,i,a){function u(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(f)return f(n,!0);throw(t=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",t}e=i[n]={exports:{}},o[n][0].call(e.exports,function(t){return u(o[n][1][t]||t)},e,e.exports,r,o,i,a)}return i[n].exports}for(var f="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,n,e){const i=t("d3-dispatch").dispatch,E=Math.PI/180,a={archimedean:q,rectangular:function(t){var e=4*t[0]/t[1],r=0,o=0;return function(t){var n=t<0?-1:1;switch(Math.sqrt(1+4*n*t)-n&3){case 0:r+=e;break;case 1:o+=4;break;case 2:r-=e;break;default:o-=4}return[r,o]}}},O=64,z=2048;function u(t){return t.text}function f(){return"serif"}function l(){return"normal"}function c(t){return Math.sqrt(t.value)}function s(){return 30*(~~(6*random())-3)}function M(){return 1}function q(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function I(){return document.createElement("canvas")}function T(t){return"function"==typeof t?t:function(){return t}}n.exports=function(){var b=[256,256],e=u,r=f,o=c,h=l,y=l,d=s,x=M,k=q,n=[],p=1/0,v=i("word","end"),g=null,_=Math.random,w={},m=I;return w.canvas=function(t){return arguments.length?(m=T(t),w):m},w.start=function(){var i=function(t){const n=t.getContext("2d",{willReadFrequently:!0}),e=(t.width=t.height=1,Math.sqrt(n.getImageData(0,0,1,1).data.length>>2));return t.width=(O<<5)/e,t.height=z/e,n.fillStyle=n.strokeStyle="red",{context:n,ratio:e}}(m()),a=function(t){var n=[],e=-1;for(;++e<t;)n[e]=0;return n}((b[0]>>5)*b[1]),u=null,f=n.length,l=-1,c=[],s=n.map(function(t,n){return t.text=e.call(this,t,n),t.font=r.call(this,t,n),t.style=h.call(this,t,n),t.weight=y.call(this,t,n),t.rotate=d.call(this,t,n),t.size=~~o.call(this,t,n),t.padding=x.call(this,t,n),t}).sort(function(t,n){return n.size-t.size});return g&&clearInterval(g),g=setInterval(t,0),t(),w;function t(){for(var t=Date.now();Date.now()-t<p&&++l<f&&g;){var n=s[l];if(n.x=b[0]*(_()+.5)>>1,n.y=b[1]*(_()+.5)>>1,!function(t,e,r,o){if(!e.sprite){var i=t.context,a=t.ratio,u=(i.clearRect(0,0,(O<<5)/a,z/a),0),f=0,l=0,n=r.length;for(--o;++o<n;){e=r[o],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;var c,s,h,y=i.measureText(e.text),d=-Math.floor(y.width/2);let t=(y.width+1)*a,n=e.size<<1;if(e.rotate?(y=Math.sin(e.rotate*E),h=Math.cos(e.rotate*E),c=t*h,s=t*y,h=n*h,y=n*y,t=Math.max(Math.abs(c+y),Math.abs(c-y))+31>>5<<5,n=~~Math.max(Math.abs(s+h),Math.abs(s-h))):t=t+31>>5<<5,n>l&&(l=n),u+t>=O<<5&&(f+=l,l=u=0),f+n>=z)break;i.translate((u+(t>>1))/a,(f+(n>>1))/a),e.rotate&&i.rotate(e.rotate*E),i.fillText(e.text,d,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,d,0)),i.restore(),e.width=t,e.height=n,e.xoff=u,e.yoff=f,e.x1=t>>1,e.y1=n>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,u+=t}for(var x=i.getImageData(0,0,(O<<5)/a,z/a).data,p=[];0<=--o;)if((e=r[o]).hasText){for(var v=e.width,g=v>>5,w=e.y1-e.y0,m=0;m<w*g;m++)p[m]=0;if(null==(u=e.xoff))return;f=e.yoff;for(var M=0,b=-1,k=0;k<w;k++){for(m=0;m<v;m++){var _=g*k+(m>>5),q=x[(f+k)*(O<<5)+(u+m)<<2]?1<<31-m%32:0;p[_]|=q,M|=q}M?b=k:(e.y0++,w--,k--,f++)}e.y1=e.y0+b,e.sprite=p.slice(0,(e.y1-e.y0)*g)}}}(i,n,s,l),n.hasText&&function(t,n,e){b[0],b[1];var r,o,i=n.x,a=n.y,u=Math.sqrt(b[0]*b[0]+b[1]*b[1]),f=k(b),l=_()<.5?1:-1,c=-l;for(;(x=f(c+=l))&&(r=~~x[0],o=~~x[1],!(Math.min(Math.abs(r),Math.abs(o))>=u));)if(n.x=i+r,n.y=a+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>b[0]||n.y+n.y1>b[1])&&(!e||function(t,n){return t.x+t.x1>n[0].x&&t.x+t.x0<n[1].x&&t.y+t.y1>n[0].y&&t.y+t.y0<n[1].y}(n,e))&&!function(t,n,e){e>>=5;for(var r,o=t.sprite,i=t.width>>5,a=t.x-(i<<4),u=127&a,f=32-u,l=t.y1-t.y0,c=(t.y+t.y0)*e+(a>>5),s=0;s<l;s++){for(var h=r=0;h<=i;h++)if((r<<f|(h<i?(r=o[s*i+h])>>>u:0))&n[c+h])return 1;c+=e}return}(n,t,b[0])){for(var s,h=n.sprite,y=n.width>>5,d=b[0]>>5,x=n.x-(y<<4),p=127&x,v=32-p,g=n.y1-n.y0,w=(n.y+n.y0)*d+(x>>5),m=0;m<g;m++){for(var M=s=0;M<=y;M++)t[w+M]|=s<<v|(M<y?(s=h[m*y+M])>>>p:0);w+=d}return 1}return}(a,n,u)){if(c.push(n),v.call("word",w,n),u){o=r=e=o=void 0;var e=n,r=(o=u)[0],o=o[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>o.x&&(o.x=e.x+e.x1),e.y+e.y1>o.y&&(o.y=e.y+e.y1)}else u=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}];n.x-=b[0]>>1,n.y-=b[1]>>1}}f<=l&&(w.stop(),v.call("end",w,c,u))}},w.stop=function(){g&&(clearInterval(g),g=null);for(const t of n)delete t.sprite;return w},w.timeInterval=function(t){return arguments.length?(p=null==t?1/0:t,w):p},w.words=function(t){return arguments.length?(n=t,w):n},w.size=function(t){return arguments.length?(b=[+t[0],+t[1]],w):b},w.font=function(t){return arguments.length?(r=T(t),w):r},w.fontStyle=function(t){return arguments.length?(h=T(t),w):h},w.fontWeight=function(t){return arguments.length?(y=T(t),w):y},w.rotate=function(t){return arguments.length?(d=T(t),w):d},w.text=function(t){return arguments.length?(e=T(t),w):e},w.spiral=function(t){return arguments.length?(k=a[t]||t,w):k},w.fontSize=function(t){return arguments.length?(o=T(t),w):o},w.padding=function(t){return arguments.length?(x=T(t),w):x},w.random=function(t){return arguments.length?(_=t,w):_},w.on=function(){var t=v.on.apply(v,arguments);return t===v?w:t},w}},{"d3-dispatch":2}],2:[function(t,n,e){var r,o;r=this,o=function(t){"use strict";var i={value:function(){}};function n(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function f(t,n,e){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}o.prototype=n.prototype={constructor:o,on:function(t,n){var e,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=i[a]).type)o[e]=f(o[e],t.name,n);else if(null==n)for(e in o)o[e]=f(o[e],t.name,null);return this}for(;++a<u;)if((e=(t=i[a]).type)&&(e=function(t,n){for(var e,r=0,o=t.length;r<o;++r)if((e=t[r]).name===n)return e.value}(o[e],t.name)))return e},copy:function(){var t,n={},e=this._;for(t in e)n[t]=e[t].slice();return new o(n)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(n,e)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof e&&void 0!==n?o(e):o((r=r||self).d3=r.d3||{})},{}]},{},[1])(1)});